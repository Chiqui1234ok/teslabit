$(document).ready((function(){let data={commission:1.05,minAmount:$("#cryptocurrencyMin").val(),cryptocurrencyPrice:$("#cryptocurrencyPrice"),cryptocurrencyName:$("#cryptocurrencyName"),usd:$("#usdToArs"),usdAux:$("#usdToArs").val()},inversion=data.minAmount*data.cryptocurrencyPrice.val()*data.usd.val()*data.commission,userFrontEnd={cryptoQuantity:$("#cryptocurrencyQuantity"),moneyQuantity:$("#moneyQuantity")};userFrontEnd.cryptoQuantity.val(data.minAmount),userFrontEnd.moneyQuantity.val(inversion.toFixed(2)),console.log(`Precio BTC: ${data.cryptocurrencyPrice.val()}\nUSD: ${data.usd.val()}\nUSD Aux: ${data.usd.val()}`);const wizard=[$("#main"),$("#wallet"),$("#finish")];let step=0,record=0,stepCode="#step"+(step+1);function wizardController(){stepCode="#step"+(step+1),console.log(stepCode);for(let i=0;i<wizard.length;i++)wizard[i].css("display","none");wizard[step].css("display","grid"),$(stepCode).addClass("active"),0==step?$("#usdSwitcher").css("display","block"):$("#usdSwitcher").css("display","none")}function checkWallet(wallet,cryptocurrency){let valid;return WAValidator.validate(wallet,cryptocurrency)}function priceChecker(){let cryptoAmount,moneyAmount=!0;userFrontEnd.cryptoQuantity.val()>=data.minAmount?($("#nextBtn1").prop("disabled",!1),$("#success").css("display","block"),$("#warn").css("display","none")):($("#nextBtn1").prop("disabled",!0),$("#success").css("display","none"),$("#warn").css("display","block")),console.log("CryptoQuantity:",userFrontEnd.cryptoQuantity.val()),console.log("MoneyQuantity:",userFrontEnd.moneyQuantity.val())}function cryptoQuantity_calc(){return(userFrontEnd.moneyQuantity.val()/data.usd.val()/data.cryptocurrencyPrice.val()/1.05).toFixed(7)}function moneyQuantity_calc(){return(userFrontEnd.cryptoQuantity.val()*data.cryptocurrencyPrice.val()*data.usd.val()*1.05).toFixed(2)}function finishBtnController(){$("#password").val().length<8||$("#password").val()!=$("#password2").val()?($("#password-advice").text("Las contraseñas deben ser iguales y de 8 caracteres o más."),$("#finishBtn").prop("disabled",!0)):($("#password-advice").text("¡Genial! Todo parece correcto."),$("#finishBtn").prop("disabled",!1))}userFrontEnd.moneyQuantity.keyup((function(){userFrontEnd.cryptoQuantity.val(cryptoQuantity_calc()),priceChecker()})),userFrontEnd.cryptoQuantity.keyup((function(){userFrontEnd.moneyQuantity.val(moneyQuantity_calc()),priceChecker()})),$("#nextBtn1").click((function(){step++,record++,console.info("Step Value:",step)})),$("#nextBtn2").click((function(){step++,record++,$("#t_amountToBuy").text(userFrontEnd.cryptoQuantity.val()),$("#t_money").text(userFrontEnd.moneyQuantity.val()),$("#t_walletDir").html('<a href="https://www.blockchain.com/btc/address/'+$("#walletDir").val()+'">'+$("#walletDir").val()+"</a>"),console.info("Step Value:",step)})),$("#usdSwitcher").click((function(){data.usd.val()==parseInt("1")?($("#currency1").text("U$D"),$("#currency2").text("AR$"),$("#currencyImg").attr("src","img/crypto/arg.jpg"),data.usd.val(data.usdAux)):($("#currency1").text("AR$"),$("#currency2").text("U$D"),$("#currencyImg").attr("src","img/crypto/us.jpg"),data.usd.val(1)),userFrontEnd.moneyQuantity.val(moneyQuantity_calc()),userFrontEnd.cryptoQuantity.val(cryptoQuantity_calc()),$("#amountToBuy").val(cryptoQuantity_calc()),$("#money").val(moneyQuantity_calc()),console.log(data.usd.val())})),$("#restarter").click((function(){$(stepCode).removeClass("active"),step--})),$("#backBtn2").click((function(){$(stepCode).removeClass("active"),step--})),setInterval((function update(){wizardController(),finishBtnController(),checkWallet($("#walletDir").val(),data.cryptocurrencyName.val())&&$("#nextBtn2").prop("disabled",!1)}),750)}));